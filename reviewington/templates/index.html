<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/index.css') }}"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/main.css') }}"
    />
    <script>
      function toggleAll(value) {
        for (const element of document.querySelectorAll(".toggle")) {
          element.checked = value;
        }
      }
    </script>
  </head>
  <body>
    <div class="markdown-body" style="padding-left: 5px">
      <h1>Reviewington</h1>
      <button onclick="toggleAll(true)">Expand All</button>
      <button onclick="toggleAll(false)">Collapse All</button><br />
      <a style="float: left; clear: left; padding: 1px" href="/reviews">.</a>
      {% for (filename, filepath), subfiles in files.items() recursive %} {% if
      subfiles %}
      <div class="wrap-collabsible" style="float: left; clear: left">
        <input id="collapsible_{{filepath}}" class="toggle" type="checkbox" />
        <label
          for="collapsible_{{filepath}}"
          class="lbl-toggle"
          style="float: left; clear: left"
          >{{filename}}</label
        >
        <div
          class="collapsible-content"
          style="padding: 0px 0px 0px 10px; float: left; clear: left"
        >
          <a
            style="float: left; clear: left; padding: 1px"
            href="/reviews?filepath={{filepath}}"
            >.</a
          >
          {{ loop(subfiles.items()) }}
        </div>
      </div>
      {% else %}
      <a
        style="float: left; clear: left; padding: 1px"
        href="/reviews?filepath={{filepath}}"
        >{{filename}}</a
      >
      {% endif %} {% endfor %}
    </div>
  </body>
</html>
